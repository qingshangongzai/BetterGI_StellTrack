# BetterGI StellTrack

## 项目概述

BetterGI StellTrack（BetterGI 星轨）是一款专为 BetterGI（一款《原神》自动化辅助工具）打造的键鼠脚本生成与管理工具，致力于生成强大的键鼠自动化脚本。该工具基于 PyQt6 开发，提供了直观的可视化界面，允许用户创建复杂的自动化操作序列。其核心初衷是实现游戏内的延时摄影——通过自动控制图片的截取和保存，创作出如电影般壮丽的视觉诗篇，是一个为你手中的“留影机”赋予生命的工具。

### 项目发展历程

这个项目的诞生源于一个简单的想法：创建一个可以设置循环次数的键鼠脚本，方便我在《原神》中的延时摄影创作。随着需求的不断扩展，我用AI工具将其可视化成GUI应用，并最终打造出这个界面还算美观、富有设计感的一个脚本编辑器。

项目的开发历程充满了技术探索与演进：

- **AI协作开发**：最初的代码主要由Deepseek生成，后来引入了智谱清言（GLM）参与开发。随着项目体积不断膨胀，传统大语言模型已无法胜任，于是引入了AI IDE工具开发。
- **名称演变**：项目最初名为“BetterGI 键鼠自动循环脚本生成器”，后来通过Deepseek赋予英文名“BetterGI Macro”。在2.0版本升级时，我认为这个名字不够贴切，便请智谱清言重新命名为“BetterGI 星轨（BetterGI StellTrack）”，这个富有诗意的名字一直沿用至今。
- **Logo设计**：项目共有两款Logo。1.0时期的Logo是我在Adobe Illustrator中使用“得意黑”设计的“自”字图标；2.0版本时，我请智谱清言基于“BetterGI StellTrack”名称生成了Logo创意，随后以此为原型用Adobe Illustrator绘制了现在的官方Logo。
- **技术栈演进**：1.0-2.0版本基于Python的TK标准库开发，但我逐渐觉得TK的视觉效果不符合我的审美追求。于是在3.0版本时，我基于PyQt6对项目进行了全面重构，并引入了模块化设计理念，使项目结构日趋规范和成熟。

**开发说明**：本项目主要由人工设计，代码主要通过AI编写，结合了自动化工具和人工调试，是零代码基础人群开发GUI应用的一次试验。

### 核心功能

- **可视化事件编辑**：通过直观的表格界面添加、编辑和管理键鼠事件
- **多种事件类型支持**：支持按键按下/释放、鼠标移动、点击、滚轮等多种事件类型
- **批量编辑功能**：支持对多个事件进行批量修改
- **精准时间逻辑管理**：灵活的时间逻辑设置，支持事件时间的自动计算和调整
- **脚本生成与导出**：将事件序列生成为适用于BetterGI的脚本文件
- **事件时间分析**：提供事件时间分布和统计分析功能
- **屏幕信息检测**：自动检测屏幕分辨率和缩放比例
- **调试工具**：内置调试功能，方便开发和问题排查

### 适用场景

- **游戏内延时摄影创作**：通过自动控制图片的截取和保存，创作如电影般壮丽的《原神》延时摄影
- 重复性键鼠操作的自动化
- 游戏辅助工具开发与测试
- 键鼠事件序列的记录与回放

## 安装指南

### 环境要求

- 操作系统：Windows 10/11
- Python 版本：3.8 及以上
- 内存：推荐 4GB 以上
- 硬盘空间：至少 100MB 可用空间

### 依赖项

BetterGI StellTrack 依赖以下主要库：

- PyQt6：图形界面框架
- pandas、numpy、matplotlib：数据处理与分析
- requests、beautifulsoup4：网络请求与解析
- psutil：系统资源监控
- 其他辅助库（详见 requirements.txt）

## 使用说明

### 基本操作


1. **启动应用**：运行 `main.py` 或可执行文件
2. **创建新事件**：点击「添加事件」按钮或使用快捷键 `Ctrl+I`
3. **编辑事件**：双击事件表格中的单元格或选中事件后点击「编辑事件」按钮
4. **删除事件**：选中事件后按 `Delete` 键或点击「删除事件」按钮
5. **生成脚本**：点击「生成脚本」按钮，将事件序列生成为可执行脚本
6. **保存脚本**：点击「保存脚本」按钮，将生成的脚本保存到本地

### 常用快捷键

|快捷键 |功能描述 |
|---|---|
|Ctrl+N |新建文件 |
|Ctrl+O |打开文件 |
|Ctrl+S |保存文件 |
|Ctrl+Q |退出应用 |
|Ctrl+Z |撤销操作 |
|Ctrl+Y |重做操作 |
|Ctrl+I |添加事件 |
|Ctrl+E |编辑事件 |
|Ctrl+X |剪切事件 |
|Ctrl+C |复制事件 |
|Ctrl+V |粘贴事件 |
|Ctrl+B |批量编辑 |
|Ctrl+A |全选事件 |
|Ctrl+T |事件时间分析 |
|Ctrl+D |调试工具 |
|Delete |删除事件 |

### 参数配置

BetterGI StellTrack 提供了多种配置选项：


1. **屏幕设置**：
   - 屏幕宽度/高度：设置目标屏幕分辨率
   - 缩放比例：设置屏幕缩放系数
   - 自动检测：点击「自动检测」按钮获取当前屏幕信息
2. **脚本设置**：
   - 循环次数：设置脚本执行的循环次数
   - 间隔时间：设置每次循环之间的间隔时间
   - 时间单位：选择间隔时间的单位（毫秒/秒/分钟）
3. **时间逻辑设置**：
   - 删除事件逻辑：设置删除事件时的时间调整方式
   - 粘贴事件逻辑：设置粘贴事件时的时间调整方式

## 核心功能演示

### 1. 事件编辑界面

事件编辑是 BetterGI StellTrack 的核心功能，用户可以通过表格界面直观地管理键鼠事件。

**主要功能区域**：

- 事件表格：显示所有事件的详细信息，包括序号、事件名称、事件类型、键码、时间等，便于脚本的精细化编辑
- 操作按钮：提供添加、编辑、删除、复制、粘贴等操作，支持序列的快速调整
- 搜索过滤：支持按事件类型和关键字搜索事件，方便在大型脚本中定位特定事件

### 2. 事件添加与编辑

用户可以通过「添加事件」按钮打开事件编辑对话框，设置事件的各项属性，满足精确控制需求：

- 事件类型：选择按键按下/释放、鼠标移动、点击等类型
- 按键/鼠标信息：设置具体的按键或鼠标操作
- 时间设置：设置事件的相对时间和延迟

### 3. 批量编辑功能

批量编辑功能允许用户同时修改多个事件的属性，大幅提高脚本的编辑效率：

- 增减偏移时间：对选中事件的时间进行统一增减，快速调整整体节奏
- 统一相对时间：将选中事件的相对时间设置为相同值，实现重复动作序列
- 事件类型替换：将一种事件类型替换为另一种类型，便于脚本的批量调整

### 4. 脚本生成与导出

完成事件编辑后，用户可以点击「生成脚本」按钮将事件序列转换为适用于BetterGI的脚本文件。生成的脚本可以保存到本地，并在需要时通过BetterGI运行。

## 项目结构说明

BetterGI StellTrack 采用模块化设计，代码结构清晰，便于维护和扩展。主要模块包括：

```
BetterGI_StellTrack/
├── main.py                 # 应用程序主入口，负责生命周期管理、环境配置、监控和主窗口创建
├── version.py              # 版本管理器模块，负责管理应用程序的版本信息和元数据
├── main_window.py          # 主窗口类，包含界面布局和主要功能
├── event_manager.py        # 事件管理模块，处理事件的添加、编辑、删除等
├── script_manager.py       # 脚本管理模块，负责脚本的生成和保存
├── panels.py               # 面板组件模块，包含各种功能面板
├── styles.py               # 样式管理模块，定义应用程序的外观样式
├── utils.py                # 工具函数模块，提供各种辅助功能
├── time_analysis.py        # 时间分析模块，提供事件时间分析功能
├── debug_tools.py          # 调试工具模块，包含调试相关功能
├── about_window.py         # 关于窗口模块
├── event_dialogs.py        # 事件对话框模块，包含各种事件编辑对话框
├── user_agreement.py       # 用户协议模块
├── requirements.txt        # 项目依赖列表
├── LICENSE.html            # 许可证文件
├── UserAgreement.html      # 用户协议文件
├── logo.ico                # 应用程序图标
├── logo.png                # 应用程序图标
├──使用说明.pdf          # 应用程序使用说明
├── SmileySans-Oblique.ttf  # 字体文件
├── SourceHanSerifCN-Regular-1.otf  # 字体文件
└── README.md               # 项目说明文档
```

## 贡献指南

我们欢迎社区成员对 BetterGI StellTrack 进行贡献。如果您想参与项目开发，请遵循以下指南：

### 1. 提交 Issue

如果您发现 bug 或有新的功能建议，请先在 GitHub Issues 中搜索是否已有相关问题。如果没有，请创建新的 Issue，详细描述问题或建议。

### 2. 代码贡献


1. Fork 项目仓库
2. 创建新的分支：`git checkout -b feature/your-feature-name`
3. 提交代码修改：`git commit -m "Add your feature description"`
4. 推送分支到 GitHub：`git push origin feature/your-feature-name`
5. 创建 Pull Request，详细描述您的修改内容

### 3. 代码规范

- 遵循 PEP 8 代码风格
- 使用 Black 进行代码格式化
- 使用 isort 管理导入语句
- 为新功能添加适当的注释和文档

## 许可证信息

BetterGI StellTrack 采用 GPL V3.0 许可证，详细信息请查看 [LICENSE.html](LICENSE.html) 文件。

## 联系方式与下载

- **GitHub开源地址**：[https://github.com/qingshangongzai/BetterGI_StellTrack/](https://github.com/qingshangongzai/BetterGI_StellTrack/)
- **Gitee开源地址**：[https://gitee.com/qingshangongzai/BetterGI_StellTrack](https://gitee.com/qingshangongzai/BetterGI_StellTrack)
- **123网盘下载链接**：[https://www.123865.com/s/8f6rjv-07ohh?pwd=qsgz#](https://www.123865.com/s/8f6rjv-07ohh?pwd=qsgz#)
- **作者主页**：[https://b23.tv/KO3m8zU](https://b23.tv/KO3m8zU)
- **使用说明**：[使用说明.pdf](使用说明.pdf)

### 开源说明

由于国内网络环境的原因，项目会在Gitee上同步更新代码。发布新版本时，会在GitHub提供完整的代码。

**注**：本人英语词汇量有限，之前也缺乏编程相关知识，对GitHub的使用不太熟悉，还望大家见谅。

## 致谢

感谢所有为 BetterGI StellTrack 项目做出贡献的开发者和用户！


---

**免责声明**：BetterGI StellTrack 主要用于游戏内延时摄影创作，仅供学习和研究使用。请严格遵守游戏厂商的用户协议，合理使用本工具。

- 禁止将本工具用于玩家对战（PVP）、资源自动化获取、高难度副本与竞速等破坏游戏公平性的行为
- 本工具与《原神》官方（米哈游/miHoYo）不存在任何形式的关联、授权或合作关系
- 开发者不对因使用本工具导致的任何后果负责，请谨慎使用

**特别提醒**：使用自动化脚本存在被游戏官方检测并封禁账号的风险，请您自行承担相关责任。